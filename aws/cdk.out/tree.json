{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.220.0"},"children":{"MediaUploadStack":{"id":"MediaUploadStack","path":"MediaUploadStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.220.0"},"children":{"BuildMediaUploadsBucket":{"id":"BuildMediaUploadsBucket","path":"MediaUploadStack/BuildMediaUploadsBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"MediaUploadStack/BuildMediaUploadsBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketName":{"Fn::Join":["",["swe40006-build-media-uploads-",{"Ref":"AWS::AccountId"}]]},"corsConfiguration":{"corsRules":[{"maxAge":3000,"allowedHeaders":["*"],"allowedMethods":["PUT","POST","GET"],"allowedOrigins":["*"]}]},"publicAccessBlockConfiguration":{"blockPublicAcls":true,"ignorePublicAcls":true}}}}}},"TestMediaUploadsBucket":{"id":"TestMediaUploadsBucket","path":"MediaUploadStack/TestMediaUploadsBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"MediaUploadStack/TestMediaUploadsBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketName":{"Fn::Join":["",["swe40006-test-media-uploads-",{"Ref":"AWS::AccountId"}]]},"corsConfiguration":{"corsRules":[{"maxAge":3000,"allowedHeaders":["*"],"allowedMethods":["PUT","POST","GET"],"allowedOrigins":["*"]}]},"publicAccessBlockConfiguration":{"blockPublicAcls":true,"ignorePublicAcls":true}}}}}},"ProdMediaUploadsBucket":{"id":"ProdMediaUploadsBucket","path":"MediaUploadStack/ProdMediaUploadsBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"MediaUploadStack/ProdMediaUploadsBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketName":{"Fn::Join":["",["swe40006-prod-media-uploads-",{"Ref":"AWS::AccountId"}]]},"corsConfiguration":{"corsRules":[{"maxAge":3000,"allowedHeaders":["*"],"allowedMethods":["PUT","POST","GET"],"allowedOrigins":["*"]}]},"publicAccessBlockConfiguration":{"blockPublicAcls":true,"ignorePublicAcls":true}}}}}},"MediaUploadUser":{"id":"MediaUploadUser","path":"MediaUploadStack/MediaUploadUser","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.User","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"MediaUploadStack/MediaUploadUser/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnUser","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::User","aws:cdk:cloudformation:props":{"userName":"swe40006-media-upload-user"}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"MediaUploadStack/MediaUploadUser/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"MediaUploadStack/MediaUploadUser/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":{"Fn::Join":["",[{"Fn::GetAtt":["BuildMediaUploadsBucket8BCEC30C","Arn"]},"/*"]]}},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["BuildMediaUploadsBucket8BCEC30C","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["BuildMediaUploadsBucket8BCEC30C","Arn"]},"/*"]]}]},{"Action":["s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":{"Fn::Join":["",[{"Fn::GetAtt":["TestMediaUploadsBucket8A75A7E5","Arn"]},"/*"]]}},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["TestMediaUploadsBucket8A75A7E5","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["TestMediaUploadsBucket8A75A7E5","Arn"]},"/*"]]}]},{"Action":["s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":{"Fn::Join":["",[{"Fn::GetAtt":["ProdMediaUploadsBucket2842A5E3","Arn"]},"/*"]]}},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["ProdMediaUploadsBucket2842A5E3","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["ProdMediaUploadsBucket2842A5E3","Arn"]},"/*"]]}]}],"Version":"2012-10-17"},"policyName":"MediaUploadUserDefaultPolicyA8FAC4A2","users":[{"Ref":"MediaUploadUser915B3F75"}]}}}}}}},"MediaUploadAccessKey":{"id":"MediaUploadAccessKey","path":"MediaUploadStack/MediaUploadAccessKey","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.AccessKey","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"MediaUploadStack/MediaUploadAccessKey/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnAccessKey","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::AccessKey","aws:cdk:cloudformation:props":{"userName":{"Ref":"MediaUploadUser915B3F75"}}}}}},"BuildMediaBucketName":{"id":"BuildMediaBucketName","path":"MediaUploadStack/BuildMediaBucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"TestMediaBucketName":{"id":"TestMediaBucketName","path":"MediaUploadStack/TestMediaBucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"ProdMediaBucketName":{"id":"ProdMediaBucketName","path":"MediaUploadStack/ProdMediaBucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"BucketRegion":{"id":"BucketRegion","path":"MediaUploadStack/BucketRegion","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"AccessKeyId":{"id":"AccessKeyId","path":"MediaUploadStack/AccessKeyId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"SecretAccessKey":{"id":"SecretAccessKey","path":"MediaUploadStack/SecretAccessKey","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"UploadUserArn":{"id":"UploadUserArn","path":"MediaUploadStack/UploadUserArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"MediaUploadStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"MediaUploadStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.220.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"MediaUploadStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.220.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"MediaUploadStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.220.0"}}}},"StaticHostingStack":{"id":"StaticHostingStack","path":"StaticHostingStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.220.0"},"children":{"BuildHostingBucket":{"id":"BuildHostingBucket","path":"StaticHostingStack/BuildHostingBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"StaticHostingStack/BuildHostingBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketName":{"Fn::Join":["",["swe40006-build-hosting-",{"Ref":"AWS::AccountId"}]]},"publicAccessBlockConfiguration":{"blockPublicAcls":true,"ignorePublicAcls":true},"websiteConfiguration":{"indexDocument":"index.html","errorDocument":"index.html"}}}},"Policy":{"id":"Policy","path":"StaticHostingStack/BuildHostingBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"StaticHostingStack/BuildHostingBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"BuildHostingBucketA8590078"},"policyDocument":{"Statement":[{"Action":"s3:GetObject","Effect":"Allow","Principal":{"AWS":"*"},"Resource":{"Fn::Join":["",[{"Fn::GetAtt":["BuildHostingBucketA8590078","Arn"]},"/*"]]}}],"Version":"2012-10-17"}}}}}}}},"TestHostingBucket":{"id":"TestHostingBucket","path":"StaticHostingStack/TestHostingBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"StaticHostingStack/TestHostingBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketName":{"Fn::Join":["",["swe40006-test-hosting-",{"Ref":"AWS::AccountId"}]]},"publicAccessBlockConfiguration":{"blockPublicAcls":true,"ignorePublicAcls":true},"websiteConfiguration":{"indexDocument":"index.html","errorDocument":"index.html"}}}},"Policy":{"id":"Policy","path":"StaticHostingStack/TestHostingBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"StaticHostingStack/TestHostingBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"TestHostingBucket23FEAD3B"},"policyDocument":{"Statement":[{"Action":"s3:GetObject","Effect":"Allow","Principal":{"AWS":"*"},"Resource":{"Fn::Join":["",[{"Fn::GetAtt":["TestHostingBucket23FEAD3B","Arn"]},"/*"]]}}],"Version":"2012-10-17"}}}}}}}},"ProdHostingBucket":{"id":"ProdHostingBucket","path":"StaticHostingStack/ProdHostingBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"StaticHostingStack/ProdHostingBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketName":{"Fn::Join":["",["swe40006-prod-hosting-",{"Ref":"AWS::AccountId"}]]},"publicAccessBlockConfiguration":{"blockPublicAcls":true,"ignorePublicAcls":true},"websiteConfiguration":{"indexDocument":"index.html","errorDocument":"index.html"}}}},"Policy":{"id":"Policy","path":"StaticHostingStack/ProdHostingBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"StaticHostingStack/ProdHostingBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"ProdHostingBucketBE5FD818"},"policyDocument":{"Statement":[{"Action":"s3:GetObject","Effect":"Allow","Principal":{"AWS":"*"},"Resource":{"Fn::Join":["",[{"Fn::GetAtt":["ProdHostingBucketBE5FD818","Arn"]},"/*"]]}}],"Version":"2012-10-17"}}}}}}}},"ProdDistribution":{"id":"ProdDistribution","path":"StaticHostingStack/ProdDistribution","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.Distribution","version":"2.220.0","metadata":[]},"children":{"Origin1":{"id":"Origin1","path":"StaticHostingStack/ProdDistribution/Origin1","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Resource":{"id":"Resource","path":"StaticHostingStack/ProdDistribution/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnDistribution","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::Distribution","aws:cdk:cloudformation:props":{"distributionConfig":{"enabled":true,"origins":[{"domainName":{"Fn::Select":[2,{"Fn::Split":["/",{"Fn::GetAtt":["ProdHostingBucketBE5FD818","WebsiteURL"]}]}]},"id":"StaticHostingStackProdDistributionOrigin1E7ABADE7","customOriginConfig":{"originSslProtocols":["TLSv1.2"],"originProtocolPolicy":"http-only"}}],"defaultCacheBehavior":{"pathPattern":"*","targetOriginId":"StaticHostingStackProdDistributionOrigin1E7ABADE7","cachePolicyId":"658327ea-f89d-4fab-a63d-7e88639e58f6","compress":true,"viewerProtocolPolicy":"redirect-to-https"},"customErrorResponses":[{"errorCode":404,"responseCode":200,"responsePagePath":"/index.html"}],"defaultRootObject":"index.html","httpVersion":"http2","ipv6Enabled":true}}}}}},"BuildBucketName":{"id":"BuildBucketName","path":"StaticHostingStack/BuildBucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"TestBucketName":{"id":"TestBucketName","path":"StaticHostingStack/TestBucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"ProdBucketName":{"id":"ProdBucketName","path":"StaticHostingStack/ProdBucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"ProdCloudFrontURL":{"id":"ProdCloudFrontURL","path":"StaticHostingStack/ProdCloudFrontURL","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"StaticDeployUser":{"id":"StaticDeployUser","path":"StaticHostingStack/StaticDeployUser","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.User","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"StaticHostingStack/StaticDeployUser/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnUser","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::User","aws:cdk:cloudformation:props":{"userName":"swe40006-static-deploy-user"}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"StaticHostingStack/StaticDeployUser/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"StaticHostingStack/StaticDeployUser/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["BuildHostingBucketA8590078","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["BuildHostingBucketA8590078","Arn"]},"/*"]]}]},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["TestHostingBucket23FEAD3B","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["TestHostingBucket23FEAD3B","Arn"]},"/*"]]}]},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["ProdHostingBucketBE5FD818","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["ProdHostingBucketBE5FD818","Arn"]},"/*"]]}]}],"Version":"2012-10-17"},"policyName":"StaticDeployUserDefaultPolicy6F46E7A8","users":[{"Ref":"StaticDeployUser473F28E9"}]}}}}}}},"StaticDeployAccessKey":{"id":"StaticDeployAccessKey","path":"StaticHostingStack/StaticDeployAccessKey","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.AccessKey","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"StaticHostingStack/StaticDeployAccessKey/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnAccessKey","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::AccessKey","aws:cdk:cloudformation:props":{"userName":{"Ref":"StaticDeployUser473F28E9"}}}}}},"DeployAccessKeyId":{"id":"DeployAccessKeyId","path":"StaticHostingStack/DeployAccessKeyId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"DeploySecretAccessKey":{"id":"DeploySecretAccessKey","path":"StaticHostingStack/DeploySecretAccessKey","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"StaticHostingStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"StaticHostingStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.220.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"StaticHostingStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.220.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"StaticHostingStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.220.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}